<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>RankPay — Yaseen Dhawa College Ranking</title>
<style>
  body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:#f6f7fb;color:#111;margin:0;padding:0}
  .container{max-width:980px;margin:auto;padding:20px}
  .card{background:#fff;border-radius:12px;box-shadow:0 8px 30px rgba(12,20,40,0.06);padding:18px;margin-bottom:20px}
  h1,h2{margin:0 0 10px}
  p{margin:0 0 12px;color:#555}
  img{max-width:100%;border-radius:12px;margin-bottom:12px}
  form{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:14px}
  form .full{grid-column:1/-1}
  label{font-size:12px;color:#666}
  input,select{padding:10px;border-radius:8px;border:1px solid #e6e9f0;font-size:14px}
  button{padding:10px 14px;border-radius:10px;border:0;background:#0b63ff;color:#fff;font-weight:600;cursor:pointer}
  .list{display:grid;gap:10px}
  .item{display:flex;align-items:center;justify-content:space-between;padding:12px;border-radius:10px;border:1px solid #f0f2f8}
  .meta{display:flex;gap:12px;align-items:center}
  .badge{font-size:12px;padding:6px 8px;border-radius:999px;background:#f1f5ff;color:#0b63ff}
  .emi{background:#fff6e8;color:#b86b00;border:1px solid #ffe3b8;padding:6px 8px;border-radius:999px}
  .actions button{margin-left:8px;background:#eee;color:#333;padding:8px;border-radius:8px}
  .small{font-size:13px;color:#444}
  footer{margin-top:14px;font-size:13px;color:#666;text-align:center}
  @media(max-width:720px){
    form{grid-template-columns:1fr;}
  }
</style>
</head>
<body>
<div class="container">

  <!-- College Info Section -->
  <div class="card">
    <h1>Yaseen Dhawa College</h1>
    <img src="https://via.placeholder.com/900x300?text=Yaseen+Dhawa+College" alt="Yaseen Dhawa College">
    <p><strong>About:</strong> Yaseen Dhawa College is a charitable institution running purely on donations. It provides education, skills, and opportunities to deserving students. All contributions go directly towards supporting the college and its students.</p>
    <p><strong>Our Mission:</strong> To educate, empower, and provide a platform for growth, all through charity and community support.</p>
    <p><strong>Support the College:</strong> Businesses and donors can contribute; highest contributors are featured in the ranking below.</p>
  </div>

  <!-- Ranking Form -->
  <div class="card">
    <h2>Ranked Businesses / Donors</h2>
    <form id="addForm">
      <div>
        <label>Business Name</label>
        <input id="name" placeholder="e.g., Haleem Stall" required />
      </div>
      <div>
        <label>Amount (Total committed)</label>
        <input id="amount" type="number" min="0" placeholder="e.g., 5000" required />
      </div>
      <div>
        <label>Payment Type</label>
        <select id="ptype">
          <option value="full">Full</option>
          <option value="emi">EMI</option>
        </select>
      </div>
      <div class="full">
        <label>Payee (who receives money)</label>
        <input id="payee" value="Yaseen Dhawa College" />
      </div>
      <div class="full" style="display:flex;gap:8px;justify-content:flex-end">
        <button type="submit">Add / Update</button>
        <button type="button" id="clearAll" style="background:#ff4757">Clear All</button>
      </div>
    </form>
    <div class="list" id="list"></div>
  </div>

  <footer>Note: For real payments & EMI plans integrate a payment gateway and backend.</footer>
</div>

<script>
(() => {
  const form = document.getElementById('addForm');
  const listEl = document.getElementById('list');
  const nameIn = document.getElementById('name');
  const amountIn = document.getElementById('amount');
  const ptypeIn = document.getElementById('ptype');
  const payeeIn = document.getElementById('payee');
  const clearAllBtn = document.getElementById('clearAll');

  let items = JSON.parse(localStorage.getItem('rankpay_items')||'[]');
  let editId = null;

  function save(){
    localStorage.setItem('rankpay_items', JSON.stringify(items));
    render();
  }

  function addItem(obj){
    if(editId !== null){
      const idx = items.findIndex(i=>i.id===editId);
      if(idx>=0) items[idx] = {...items[idx], ...obj};
      editId = null;
    } else {
      items.push({id:Date.now().toString(), ...obj});
    }
    save();
  }

  function deleteItem(id){
    items = items.filter(i=>i.id!==id);
    save();
  }

  function editItem(id){
    const it = items.find(i=>i.id===id);
    if(!it) return;
    nameIn.value = it.name;
    amountIn.value = it.amount;
    ptypeIn.value = it.ptype;
    payeeIn.value = it.payee;
    editId = id;
  }

  function render(){
    items.sort((a,b)=>Number(b.amount)-Number(a.amount));
    listEl.innerHTML = '';
    if(items.length===0){
      listEl.innerHTML = '<div style="color:#777;padding:14px;border-radius:8px;border:1px dashed #eee;text-align:center">No businesses yet — add one above to see ranking.</div>';
      return;
    }
    items.forEach((it, idx) => {
      const el = document.createElement('div');
      el.className = 'item';
      el.innerHTML = `
        <div class="meta">
          <div style="min-width:40px;text-align:center">
            <div style="font-weight:700;font-size:18px">${idx+1}</div>
            <div style="font-size:12px;color:#888">place</div>
          </div>
          <div>
            <div style="font-weight:700">${escapeHtml(it.name)}</div>
            <div class="small">Payee: ${escapeHtml(it.payee)} • Type: <span class="${it.ptype==='emi'?'emi':'badge'}">${it.ptype.toUpperCase()}</span></div>
          </div>
        </div>
        <div style="display:flex;align-items:center;gap:12px">
          <div style="font-weight:800">₹ ${Number(it.amount).toLocaleString()}</div>
          <div class="actions">
            <button onclick="window.__rankpay_edit('${it.id}')">Edit</button>
            <button onclick="window.__rankpay_delete('${it.id}')">Delete</button>
          </div>
        </div>
      `;
      listEl.appendChild(el);
    });
  }

  function escapeHtml(text){
    return String(text).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
  }

  window.__rankpay_delete = (id) => { if(confirm('Delete this entry?')) deleteItem(id); };
  window.__rankpay_edit = (id) => { editItem(id); window.scrollTo({top:0,behavior:'smooth'}); };

  form.addEventListener('submit', (e) => {
    e.preventDefault();
    const name = nameIn.value.trim();
    const amount = Number(amountIn.value);
    const ptype = ptypeIn.value;
    const payee = payeeIn.value.trim() || 'Yaseen Dhawa College';
    if(!name || !amount || amount <= 0){ alert('Please enter valid name and amount (>0).'); return; }
    addItem({name, amount, ptype, payee});
    form.reset();
    payeeIn.value = 'Yaseen Dhawa College';
  });

  clearAllBtn.addEventListener('click', () => { if(confirm('Clear all entries?')) { items=[]; save(); } });

  render();
})();
</script>
</body>
</html>
